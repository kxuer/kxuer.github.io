<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux根文件系统 | Kxuer&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="计算机技术博客。前后端等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.d9c8cf8c.css" as="style"><link rel="preload" href="/assets/js/app.152d3a4c.js" as="script"><link rel="preload" href="/assets/js/2.5c504fd0.js" as="script"><link rel="preload" href="/assets/js/79.184a00f0.js" as="script"><link rel="prefetch" href="/assets/js/10.c5b2da43.js"><link rel="prefetch" href="/assets/js/100.839c8279.js"><link rel="prefetch" href="/assets/js/101.6b297eb7.js"><link rel="prefetch" href="/assets/js/102.3d503040.js"><link rel="prefetch" href="/assets/js/103.e4ff933b.js"><link rel="prefetch" href="/assets/js/104.7497c72a.js"><link rel="prefetch" href="/assets/js/105.4a297d62.js"><link rel="prefetch" href="/assets/js/106.e6238c5c.js"><link rel="prefetch" href="/assets/js/107.0ecffa58.js"><link rel="prefetch" href="/assets/js/108.064346d0.js"><link rel="prefetch" href="/assets/js/109.e1f48cc8.js"><link rel="prefetch" href="/assets/js/11.9955fd7b.js"><link rel="prefetch" href="/assets/js/110.93ce97c8.js"><link rel="prefetch" href="/assets/js/111.2ccae80b.js"><link rel="prefetch" href="/assets/js/112.810bde3a.js"><link rel="prefetch" href="/assets/js/113.09c55eeb.js"><link rel="prefetch" href="/assets/js/114.d8ff67ec.js"><link rel="prefetch" href="/assets/js/115.d2f6cc4d.js"><link rel="prefetch" href="/assets/js/116.6b4516fd.js"><link rel="prefetch" href="/assets/js/117.5205c914.js"><link rel="prefetch" href="/assets/js/118.c742187f.js"><link rel="prefetch" href="/assets/js/119.5b3c6aaf.js"><link rel="prefetch" href="/assets/js/12.929c5230.js"><link rel="prefetch" href="/assets/js/120.01db5f39.js"><link rel="prefetch" href="/assets/js/121.7f8c9a7f.js"><link rel="prefetch" href="/assets/js/122.c138cf13.js"><link rel="prefetch" href="/assets/js/123.6f7dd186.js"><link rel="prefetch" href="/assets/js/124.865f91fd.js"><link rel="prefetch" href="/assets/js/125.c991c186.js"><link rel="prefetch" href="/assets/js/126.114441af.js"><link rel="prefetch" href="/assets/js/127.9c8b7fbe.js"><link rel="prefetch" href="/assets/js/128.eefcc4f2.js"><link rel="prefetch" href="/assets/js/129.2fbf5306.js"><link rel="prefetch" href="/assets/js/13.ab65c1b2.js"><link rel="prefetch" href="/assets/js/130.1fd677e8.js"><link rel="prefetch" href="/assets/js/131.c1ed70bb.js"><link rel="prefetch" href="/assets/js/14.3023fd75.js"><link rel="prefetch" href="/assets/js/15.656e6f1d.js"><link rel="prefetch" href="/assets/js/16.e4ae5b77.js"><link rel="prefetch" href="/assets/js/17.a6423137.js"><link rel="prefetch" href="/assets/js/18.9d4bb4b0.js"><link rel="prefetch" href="/assets/js/19.0c597f5d.js"><link rel="prefetch" href="/assets/js/20.129d025d.js"><link rel="prefetch" href="/assets/js/21.e584fce1.js"><link rel="prefetch" href="/assets/js/22.063becc8.js"><link rel="prefetch" href="/assets/js/23.a3dd02b4.js"><link rel="prefetch" href="/assets/js/24.d6cb010f.js"><link rel="prefetch" href="/assets/js/25.2960c6e7.js"><link rel="prefetch" href="/assets/js/26.78626a98.js"><link rel="prefetch" href="/assets/js/27.4c6c3e26.js"><link rel="prefetch" href="/assets/js/28.aa1df5b8.js"><link rel="prefetch" href="/assets/js/29.ec046e05.js"><link rel="prefetch" href="/assets/js/3.6d361c80.js"><link rel="prefetch" href="/assets/js/30.4d6f6c19.js"><link rel="prefetch" href="/assets/js/31.4608c7b6.js"><link rel="prefetch" href="/assets/js/32.fc4a5655.js"><link rel="prefetch" href="/assets/js/33.1743ece1.js"><link rel="prefetch" href="/assets/js/34.04d7608e.js"><link rel="prefetch" href="/assets/js/35.25e80d63.js"><link rel="prefetch" href="/assets/js/36.897e2c3e.js"><link rel="prefetch" href="/assets/js/37.bf8722c8.js"><link rel="prefetch" href="/assets/js/38.18915aa1.js"><link rel="prefetch" href="/assets/js/39.a73e3b54.js"><link rel="prefetch" href="/assets/js/4.94dce7a4.js"><link rel="prefetch" href="/assets/js/40.05f7e48f.js"><link rel="prefetch" href="/assets/js/41.b1c01e89.js"><link rel="prefetch" href="/assets/js/42.6da0e530.js"><link rel="prefetch" href="/assets/js/43.637238af.js"><link rel="prefetch" href="/assets/js/44.5944e11d.js"><link rel="prefetch" href="/assets/js/45.26b483e3.js"><link rel="prefetch" href="/assets/js/46.1b30e94a.js"><link rel="prefetch" href="/assets/js/47.ad770159.js"><link rel="prefetch" href="/assets/js/48.1c845f66.js"><link rel="prefetch" href="/assets/js/49.749bca79.js"><link rel="prefetch" href="/assets/js/5.782550e2.js"><link rel="prefetch" href="/assets/js/50.6c7bbc12.js"><link rel="prefetch" href="/assets/js/51.da088c04.js"><link rel="prefetch" href="/assets/js/52.60ace533.js"><link rel="prefetch" href="/assets/js/53.b63909f5.js"><link rel="prefetch" href="/assets/js/54.db3be7b1.js"><link rel="prefetch" href="/assets/js/55.5581f0a9.js"><link rel="prefetch" href="/assets/js/56.154d842f.js"><link rel="prefetch" href="/assets/js/57.8caf7754.js"><link rel="prefetch" href="/assets/js/58.bc7c5c68.js"><link rel="prefetch" href="/assets/js/59.f1212943.js"><link rel="prefetch" href="/assets/js/6.7aacd47c.js"><link rel="prefetch" href="/assets/js/60.69b32384.js"><link rel="prefetch" href="/assets/js/61.93b2cfef.js"><link rel="prefetch" href="/assets/js/62.8c87418a.js"><link rel="prefetch" href="/assets/js/63.dcaf5fe0.js"><link rel="prefetch" href="/assets/js/64.44457f77.js"><link rel="prefetch" href="/assets/js/65.02a5e697.js"><link rel="prefetch" href="/assets/js/66.7f463250.js"><link rel="prefetch" href="/assets/js/67.0e4d3b60.js"><link rel="prefetch" href="/assets/js/68.cffb5314.js"><link rel="prefetch" href="/assets/js/69.a0b44aba.js"><link rel="prefetch" href="/assets/js/7.0860eea1.js"><link rel="prefetch" href="/assets/js/70.944df57e.js"><link rel="prefetch" href="/assets/js/71.73da8d16.js"><link rel="prefetch" href="/assets/js/72.b1290ec0.js"><link rel="prefetch" href="/assets/js/73.9a4d586a.js"><link rel="prefetch" href="/assets/js/74.e8a08be7.js"><link rel="prefetch" href="/assets/js/75.42fa9f6e.js"><link rel="prefetch" href="/assets/js/76.3e8fabaa.js"><link rel="prefetch" href="/assets/js/77.52671e74.js"><link rel="prefetch" href="/assets/js/78.02d54f7f.js"><link rel="prefetch" href="/assets/js/8.fea18674.js"><link rel="prefetch" href="/assets/js/80.027b548d.js"><link rel="prefetch" href="/assets/js/81.67faaf37.js"><link rel="prefetch" href="/assets/js/82.96eac408.js"><link rel="prefetch" href="/assets/js/83.79e495af.js"><link rel="prefetch" href="/assets/js/84.ee74eb85.js"><link rel="prefetch" href="/assets/js/85.a880f4eb.js"><link rel="prefetch" href="/assets/js/86.6a266a22.js"><link rel="prefetch" href="/assets/js/87.727a287b.js"><link rel="prefetch" href="/assets/js/88.81cb348a.js"><link rel="prefetch" href="/assets/js/89.e979df06.js"><link rel="prefetch" href="/assets/js/9.95374233.js"><link rel="prefetch" href="/assets/js/90.1e627d78.js"><link rel="prefetch" href="/assets/js/91.467a13ab.js"><link rel="prefetch" href="/assets/js/92.fd6425af.js"><link rel="prefetch" href="/assets/js/93.bab60ba3.js"><link rel="prefetch" href="/assets/js/94.07efa254.js"><link rel="prefetch" href="/assets/js/95.7d9d761d.js"><link rel="prefetch" href="/assets/js/96.e83ad60d.js"><link rel="prefetch" href="/assets/js/97.c9d2f939.js"><link rel="prefetch" href="/assets/js/98.f538657e.js"><link rel="prefetch" href="/assets/js/99.f43a2f34.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d9c8cf8c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Kxuer's blog" class="logo"> <span class="site-name can-hide">Kxuer's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">VUE</a></li><li class="dropdown-item"><!----> <a href="/frontend/browser/" class="nav-link">浏览器</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/frontend/framework/" class="nav-link">框架</a></li><li class="dropdown-item"><!----> <a href="/frontend/others/" class="nav-link">他人文章</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/backend/go/" class="nav-link">Golang</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technology/tech/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/technology/blog/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/technology/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/technology/embedded-linux/" class="nav-link">嵌入式Linux</a></li><li class="dropdown-item"><!----> <a href="/technology/database/" class="nav-link">数据库</a></li><li class="dropdown-item"><!----> <a href="/technology/software/" class="nav-link">软件使用</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/kxuer/kxuer.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.staticaly.com/gh/kxuer/image_store@main/img/knowledge.6zl141tmhs80.webp"> <div class="blogger-info"><h3>Kxuer Z</h3> <span>前端界的小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/frontend/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">VUE</a></li><li class="dropdown-item"><!----> <a href="/frontend/browser/" class="nav-link">浏览器</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/frontend/framework/" class="nav-link">框架</a></li><li class="dropdown-item"><!----> <a href="/frontend/others/" class="nav-link">他人文章</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/backend/go/" class="nav-link">Golang</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technology/tech/" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/technology/blog/" class="nav-link">博客搭建</a></li><li class="dropdown-item"><!----> <a href="/technology/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/technology/embedded-linux/" class="nav-link">嵌入式Linux</a></li><li class="dropdown-item"><!----> <a href="/technology/database/" class="nav-link">数据库</a></li><li class="dropdown-item"><!----> <a href="/technology/software/" class="nav-link">软件使用</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/pages/aea6571b7a8bae86/" class="nav-link">面试</a></li><li class="dropdown-item"><!----> <a href="/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/pages/baaa02/" class="nav-link">实用技巧</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/kxuer/kxuer.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>技术文档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>博客搭建</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>嵌入式Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/725391/" class="sidebar-link">嵌入式Linux概述</a></li><li><a href="/pages/59b6a0/" class="sidebar-link">交叉编译工具链（cross-compiling toolchains）</a></li><li><a href="/pages/8deda9/" class="sidebar-link">BIOS or bootloader</a></li><li><a href="/pages/31debf/" class="sidebar-link">Linux内核</a></li><li><a href="/pages/5c591b/" aria-current="page" class="active sidebar-link">Linux根文件系统</a></li><li><a href="/pages/e1716e/" class="sidebar-link">内核驱动</a></li><li><a href="/pages/996c72/" class="sidebar-link">块文件系统</a></li><li><a href="/pages/2da79d/" class="sidebar-link">交叉编译用户空间库和应用程序</a></li><li><a href="/pages/fb270d/" class="sidebar-link">嵌入式Linux软件栈概览</a></li><li><a href="/pages/1f78e3/" class="sidebar-link">嵌入式Linux应用开发</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>密码学</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Windows</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>软件使用</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/technology/#技术" data-v-06225672>技术</a></li><li data-v-06225672><a href="/technology/#嵌入式Linux" data-v-06225672>嵌入式Linux</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/kxuer" target="_blank" title="作者" class="beLink" data-v-06225672>kxuer</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-03-31</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Linux根文件系统<!----></h1>  <div class="theme-vdoing-content content__default"><p>用户看到的只是一个<strong>全局的层级结构</strong>，里面可能包含多个文件系统。
当文件系统挂载到层级结构的某个位置时：</p> <ul><li>挂载到某个目录（称为<strong>挂载点</strong>），该目录的内容反应了文件系统的内容。
这种方式使得应用程序可以很方便地访问文件和目录，而不用管它们实际的存储位置。</li></ul> <blockquote><p>个人理解：在访问文件时，内核负责定位到某个存储设备的具体位置。</p></blockquote> <p>挂载命令：<code>mount -t type device mountpoint</code></p> <ul><li>type是文件系统的类型。</li> <li>device是存储设备或网络位置。
取消挂载命令：<code>umount</code></li> <li>重启或拔掉USB之前最好先取消挂载，因为可能Linux缓存的内存数据还没被写到存储设备中。</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> /mnt/usbkey   <span class="token comment"># 创建挂载点</span>
<span class="token function">sudo</span> <span class="token function">mount</span> <span class="token parameter variable">-t</span> vfat /dev/sda1 /mnt/usbkey   <span class="token comment"># 挂载某个存储设备到挂载点</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>根文件系统（Root filesystem）：挂载在层级结构的根“/”的特殊的文件系统</p> <ul><li>由内核通过“root=”选项直接挂载，无法通过mount程序挂载。</li> <li>可从哪挂载：
<ul><li>硬盘分区、USB设备分区：root=/dev/sdXY，X指示设备，Y指示分区。</li> <li>SD卡分区：root=/dev/mmcblkXpY。</li> <li>闪存分区：root=/dev/mtdblockX。</li> <li>网络（使用NFS协议）：
<ul><li>![[Pasted image 20230302214115.png]]</li></ul> <ol><li>主机安装NFS服务器：sudo apt install nfs-kernel-server</li> <li>在/etc/exports文件添加：<code>/home/tux/rootfs 192.168.1.111(rw,no_root_squash,no_subtree_check)</code>，/home/tux/rootfs是要导出的目录，192.168.1.111是开发板的IP地址，括号内的是NFS服务器的配置项。</li> <li>NFS服务器重新加载/etc/exports文件：sudo exportfs -r</li> <li>开发板上：
<ul><li>内核配置：CONFIG_NFS_FS=y （开启NFS客户端支持）；CONFIG_IP_PNP=y （在启动是配置IP地址）；CONFIG_ROOT_NFS=y （支持NFS作为根文件系统）。</li> <li>启动内核时需添加参数：root=/dev/nfs（从NFS挂载根文件系统）；ip=192.168.1.111；nfsroot=192.168.1.110:/home/tux/rootfs/（NFS服务器的目录，如果出错，添加”,nfsvers=3,tcp”）</li></ul></li></ol></li> <li>内存（）：<strong>initramfs</strong> <ul><li>集成到内核镜像中的CPIO；或由bootloader预加载的。</li> <li>用途：As an intermediate step before switching to a real root filesystem, located on devices for which drivers not part of the kernel image are needed (storage drivers, filesystem drivers, network drivers). This is always used on the kernel of desktop/server distributions to keep the kernel image size reasonable. （看启动流程[[05 Linux根文件系统#^18b8f3]]）</li> <li>创建CPIO版的initramfs：<div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 创建CPIO archive</span>
<span class="token builtin class-name">cd</span> rootfs/ 
<span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token operator">|</span> cpio <span class="token parameter variable">-H</span> newc <span class="token parameter variable">-o</span> <span class="token operator">&gt;</span> <span class="token punctuation">..</span>/initramfs.cpio 
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span> <span class="token function">gzip</span> initramfs.cpio
<span class="token comment"># 把archive添加到U-Boot容器中</span>
mkimage <span class="token parameter variable">-n</span> <span class="token string">'Ramdisk Image'</span> <span class="token parameter variable">-A</span> arm <span class="token parameter variable">-O</span> linux <span class="token parameter variable">-T</span> ramdisk <span class="token parameter variable">-C</span> <span class="token function">gzip</span> <span class="token punctuation">\</span> <span class="token parameter variable">-d</span> initramfs.cpio.gz uInitramfs
<span class="token comment"># 加载内核、设备树、uInitramfs到内存后启动内核</span>
bootz kernel-addr initramfs-addr dtb-addr
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li>把initramfs archive添加到内核镜像：配置CONFIG_INITRAMFS_SOURCE![[Pasted image 20230302220030.png]]</li></ul></li></ul></li> <li>里面的内容：<a href="https://refspecs.linuxfoundation.org/fhs.shtml" target="_blank" rel="noopener noreferrer">规范FHS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>重要目录：
<ul><li>/bin程序</li> <li>/boot内核镜像、配置及initramfs</li> <li>/dev设备文件</li> <li>/etc系统级配置</li> <li>/home</li> <li>/lib库</li> <li>/media可移除媒介的挂载点</li> <li>/mnt临时挂载文件系统的挂载点</li> <li>/proc：proc虚拟文件系统的挂载点</li> <li>/root：root用户的家目录</li> <li>/run运行时可变数据（之前放在/var/run）</li> <li>/sbin系统程序</li> <li>/sys：sysfs虚拟文件系统的挂载点</li> <li>/tmp临时文件</li> <li>/usr：/usr/bin Non-basic programs；/usr/lib Non-basic libraries；/usr/sbin Non-basic system programs</li> <li>/var：系统服务的可变数据文件</li></ul></li></ul></li> <li><strong>伪文件系统（Pseudo Filesystems）</strong>：
<ul><li>proc：供用户空间程序（如ps、top）查看系统的进程信息。 ^bcefc4
<ul><li>挂载：mount -t proc nodev /proc</li> <li>每一个正在运行的进程都有一个目录：<code>/proc/&lt;pid&gt;</code>，里面包含进程打开的文件、CPU和内存占用等信息。</li> <li>/proc/interrupts, /proc/devices, /proc/iomem：包含设备相关信息。</li> <li>/proc/cmdline：包含内核命令行。</li> <li>/proc/sys：包含许多可写文件，用来调整内核参数。也叫<a href="https://www.kernel.org/doc/html/latest/admin-guide/sysctl/" target="_blank" rel="noopener noreferrer">sysctl<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li>sysfs：供用户查看系统中的总线、设备和驱动。
<ul><li>挂载：mount -t sysfs nodev /sys</li></ul></li></ul></li> <li>最小的根文件系统：至少要包含的应用程序
<ul><li>init：在挂载根文件系统后，由内核启动的第一个<em>用户空间</em>应用程序。（桌面或服务器上的为SysV init or systemd）
<ul><li>内核首先尝试运行由<code>init=</code>指定的命令。</li> <li>否则，尝试运行/sbin/init, /etc/init, /bin/init 和 /bin/sh.</li> <li>如果是initramfs根文件系统，则只会查找/init程序（可由rdinit=参数设置）。</li> <li>如果找不到init程序，内核会停止启动。</li> <li>init程序负责启动所有的用户空间程序和服务；且在孤儿进程停止之前，作为孤儿进程的父进程。</li></ul></li> <li>shell：实现脚本；自动化执行任务；供用户与系统交互。</li> <li>基本的UNIX程序：mv, cp, mkdir, cat, modprobe, mount, ip, etc.</li> <li>![[Pasted image 20230303083347.png]]</li> <li>使用initramfs的启动过程：![[Pasted image 20230303083647.png]] ^18b8f3</li> <li>如何制作所需的应用程序：使用BusyBox</li></ul></li></ul> <p><a href="https://www.busybox.net/" target="_blank" rel="noopener noreferrer">BusyBox<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：嵌入式Linux的瑞士军刀，用于制作根文件系统</p> <ul><li>把所有的应用程序都打包到一个可执行程序/bin/busybox中：其他程序通过符号链接/bin/busybox 以集成到BusyBox。</li> <li>配置：make defconfig（make allnoconfig取消全部选择）；或者make menuconfig</li> <li>编译：
<ul><li>设置交叉编译器路径到PATH环境变量：<code>export PATH=$HOME/x-tools/arm-unknown-linux-uclibcgnueabi/bin:$PATH</code></li> <li>设置交叉编译器：Settings -&gt; Build Options -&gt; Cross Compiler prefix</li> <li>设置安装目录：Settings -&gt; Installation Options -&gt; Destination path for 'make install'</li> <li>编译、安装：make；make install</li></ul></li> <li>BusyBox提供的init程序的实现：<a href="https://elixir.bootlin.com/busybox/latest/source/examples/inittab" target="_blank" rel="noopener noreferrer">examples/inittab<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>配置文件：/etc/inittab，格式为<code>&lt;id&gt;::&lt;action&gt;:&lt;process&gt;</code></li> <li>用于：在系统启动时启动系统服务、控制系统关机、检查某些服务是否总是在运行。</li></ul></li></ul></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/kxuer/kxuer.github.io/edit/master/docs/03.技术/04.嵌入式Linux/05.Linux根文件系统.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/03/31, 09:44:53</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/31debf/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Linux内核</div></a> <a href="/pages/e1716e/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">内核驱动</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/31debf/" class="prev">Linux内核</a></span> <span class="next"><a href="/pages/e1716e/">内核驱动</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/1f78e3/"><div>
            嵌入式Linux应用开发
            <!----></div></a> <span class="date">03-31</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/fb270d/"><div>
            嵌入式Linux软件栈概览
            <!----></div></a> <span class="date">03-31</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/2da79d/"><div>
            交叉编译用户空间库和应用程序
            <!----></div></a> <span class="date">03-31</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:xuerk@outlook.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/kxuer" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>Kxuer Z | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.152d3a4c.js" defer></script><script src="/assets/js/2.5c504fd0.js" defer></script><script src="/assets/js/79.184a00f0.js" defer></script>
  </body>
</html>
